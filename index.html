<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›ªåœºæ•°æ®ç›‘æ§ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        
        .header {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .stats {
            display: flex;
            gap: 20px;
            margin-top: 15px;
        }
        
        .stat-item {
            background: #f8f9fa;
            padding: 10px 15px;
            border-radius: 4px;
        }
        
        .stat-item strong {
            display: block;
            font-size: 20px;
            color: #333;
        }
        
        .stat-item span {
            font-size: 12px;
            color: #666;
        }
        
        .filters {
            background: white;
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .filters label {
            margin-right: 15px;
            font-size: 14px;
        }
        
        .filters select, .filters input {
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-right: 15px;
        }
        
        .resort-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 20px;
        }
        
        .resort-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .resort-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .webcam-button {
            background: #ff4444;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: background 0.2s;
        }
        
        .webcam-button:hover {
            background: #cc0000;
        }
        
        .webcam-button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            animation: fadeIn 0.3s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            background: white;
            margin: 50px auto;
            padding: 0;
            width: 90%;
            max-width: 900px;
            border-radius: 8px;
            position: relative;
            animation: slideIn 0.3s;
        }
        
        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h2 {
            margin: 0;
            font-size: 20px;
        }
        
        .close-button {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #666;
            line-height: 1;
        }
        
        .close-button:hover {
            color: #000;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .webcam-links {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .webcam-link {
            display: flex;
            align-items: center;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 4px;
            text-decoration: none;
            color: #333;
            transition: background 0.2s;
        }
        
        .webcam-link:hover {
            background: #e9ecef;
        }
        
        .webcam-link-icon {
            font-size: 20px;
            margin-right: 10px;
        }
        
        .webcam-iframe {
            width: 100%;
            height: 500px;
            border: none;
            border-radius: 4px;
        }
        
        .resort-name {
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }
        
        .resort-location {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        
        .status-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .status-open {
            background: #d4edda;
            color: #155724;
        }
        
        .status-closed {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status-partial {
            background: #fff3cd;
            color: #856404;
        }
        
        .data-section {
            margin-bottom: 15px;
        }
        
        .data-section h3 {
            font-size: 14px;
            color: #666;
            margin-bottom: 8px;
        }
        
        .data-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        .data-item {
            background: #f8f9fa;
            padding: 8px 12px;
            border-radius: 4px;
        }
        
        .data-label {
            font-size: 11px;
            color: #666;
            display: block;
        }
        
        .data-value {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            display: block;
            margin-top: 2px;
        }
        
        .weather-section {
            background: #e7f3ff;
            padding: 12px;
            border-radius: 6px;
            margin-top: 15px;
        }
        
        .weather-section h3 {
            font-size: 14px;
            color: #0066cc;
            margin-bottom: 10px;
        }
        
        .forecast {
            margin-top: 10px;
        }
        
        .forecast-day {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            font-size: 12px;
            border-bottom: 1px solid #d0e7ff;
        }
        
        .forecast-day:last-child {
            border-bottom: none;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .refresh-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .refresh-btn:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>â„ï¸ é›ªåœºæ•°æ®ç›‘æ§ç³»ç»Ÿ</h1>
        <div class="stats">
            <div class="stat-item">
                <strong id="totalResorts">-</strong>
                <span>æ€»é›ªåœºæ•°</span>
            </div>
            <div class="stat-item">
                <strong id="openResorts">-</strong>
                <span>å¼€æ”¾ä¸­</span>
            </div>
            <div class="stat-item">
                <strong id="lastUpdate">-</strong>
                <span>æœ€åæ›´æ–°</span>
            </div>
        </div>
    </div>

    <div class="filters">
        <label>
            çŠ¶æ€ç­›é€‰:
            <select id="statusFilter" onchange="filterResorts()">
                <option value="all">å…¨éƒ¨</option>
                <option value="open">å¼€æ”¾</option>
                <option value="closed">å…³é—­</option>
                <option value="partial">éƒ¨åˆ†å¼€æ”¾</option>
            </select>
        </label>
        
        <label>
            æœç´¢:
            <input type="text" id="searchInput" placeholder="é›ªåœºåç§°æˆ–åœ°ç‚¹..." oninput="filterResorts()">
        </label>
        
        <button class="refresh-btn" onclick="loadData()">ğŸ”„ åˆ·æ–°æ•°æ®</button>
        
        <!-- æµ‹è¯•æŒ‰é’® -->
        <button class="webcam-button" onclick="alert('æµ‹è¯•æŒ‰é’®å¯è§ï¼')">ğŸ“¹ æµ‹è¯• Webcam</button>
    </div>

    <div id="resortsContainer">
        <div class="loading">â³ æ­£åœ¨åŠ è½½æ•°æ®...</div>
    </div>

    <!-- Webcam æ¨¡æ€çª—å£ -->
    <div id="webcamModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Webcam</h2>
                <button class="close-button" onclick="closeWebcamModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Webcam å†…å®¹å°†åœ¨è¿™é‡ŒåŠ¨æ€åŠ è½½ -->
            </div>
        </div>
    </div>

    <script>
        let allResorts = [];
        let webcamConfig = {};

        // åŠ è½½æ•°æ®
        async function loadData() {
            const container = document.getElementById('resortsContainer');
            
            try {
                const response = await fetch('http://localhost:8000/api/resorts');
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}`);
                }
                
                const data = await response.json();
                
                if (data.error) {
                    throw new Error(data.error);
                }
                
                allResorts = data.resorts || [];
                
                // æ›´æ–°ç»Ÿè®¡
                updateStats(data);
                
                // æ˜¾ç¤ºé›ªåœº
                displayResorts(allResorts);
                
            } catch (error) {
                console.error('Error loading data:', error);
                container.innerHTML = `
                    <div class="error">
                        âŒ åŠ è½½å¤±è´¥: ${error.message}
                        <br><br>
                        è¯·ç¡®ä¿ API æœåŠ¡æ­£åœ¨è¿è¡Œï¼špython api.py
                    </div>
                `;
            }
        }

        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStats(data) {
            const metadata = data.metadata || {};
            document.getElementById('totalResorts').textContent = metadata.total_resorts || 0;
            
            const openCount = allResorts.filter(r => r.status === 'open').length;
            document.getElementById('openResorts').textContent = openCount;
            
            const timestamp = metadata.timestamp || '';
            if (timestamp) {
                const date = new Date(timestamp);
                document.getElementById('lastUpdate').textContent = 
                    date.toLocaleString('zh-CN', { month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' });
            }
        }

        // ç­›é€‰é›ªåœº
        function filterResorts() {
            const statusFilter = document.getElementById('statusFilter').value;
            const searchText = document.getElementById('searchInput').value.toLowerCase();
            
            let filtered = allResorts;
            
            // çŠ¶æ€ç­›é€‰
            if (statusFilter !== 'all') {
                filtered = filtered.filter(r => r.status === statusFilter);
            }
            
            // æœç´¢ç­›é€‰
            if (searchText) {
                filtered = filtered.filter(r => 
                    r.name.toLowerCase().includes(searchText) ||
                    (r.location && r.location.toLowerCase().includes(searchText))
                );
            }
            
            displayResorts(filtered);
        }

        // æ˜¾ç¤ºé›ªåœºåˆ—è¡¨
        function displayResorts(resorts) {
            const container = document.getElementById('resortsContainer');
            
            if (resorts.length === 0) {
                container.innerHTML = '<div class="loading">æ²¡æœ‰æ‰¾åˆ°é›ªåœºæ•°æ®</div>';
                return;
            }
            
            container.innerHTML = `
                <div class="resort-grid">
                    ${resorts.map(resort => createResortCard(resort)).join('')}
                </div>
            `;
        }

        // åˆ›å»ºé›ªåœºå¡ç‰‡
        function createResortCard(resort) {
            const statusClass = `status-${resort.status || 'closed'}`;
            const statusText = {
                'open': 'å¼€æ”¾',
                'closed': 'å…³é—­',
                'partial': 'éƒ¨åˆ†å¼€æ”¾'
            }[resort.status] || resort.status;
            
            const weather = resort.weather || {};
            
            // æ£€æŸ¥æ˜¯å¦æœ‰ webcam
            const hasWebcam = webcamConfig[resort.slug];
            console.log(`ğŸ” æ£€æŸ¥ ${resort.name} (${resort.slug}):`, {
                'webcamConfigå­˜åœ¨': !!webcamConfig,
                'webcamConfigå¤§å°': Object.keys(webcamConfig).length,
                'hasWebcam': !!hasWebcam,
                'hasWebcamè¯¦æƒ…': hasWebcam
            });
            if (hasWebcam) {
                console.log(`âœ… ${resort.name} åº”è¯¥æ˜¾ç¤º Webcam æŒ‰é’®`);
            } else {
                console.log(`âŒ ${resort.name} ä¸æ˜¾ç¤º Webcam æŒ‰é’®`);
            }
            
            return `
                <div class="resort-card">
                    <div class="resort-header">
                        <div>
                            <div class="resort-name">${resort.name}</div>
                            <div class="resort-location">${resort.location || '-'}</div>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            ${hasWebcam ? `
                                <button class="webcam-button" onclick="openWebcamModal('${resort.slug}')">
                                    ğŸ“¹ Webcam
                                </button>
                            ` : ''}
                            <span class="status-badge ${statusClass}">${statusText}</span>
                        </div>
                    </div>
                    
                    <div class="data-section">
                        <h3>â„ï¸ é›ªå†µ</h3>
                        <div class="data-grid">
                            <div class="data-item">
                                <span class="data-label">24hæ–°é›ª</span>
                                <span class="data-value">${resort.new_snow || 0} cm</span>
                            </div>
                            <div class="data-item">
                                <span class="data-label">é›ªåº•æ·±åº¦</span>
                                <span class="data-value">${resort.base_depth || 0} cm</span>
                            </div>
                            <div class="data-item">
                                <span class="data-label">æ¸©åº¦</span>
                                <span class="data-value">${resort.temperature || '-'}Â°C</span>
                            </div>
                            <div class="data-item">
                                <span class="data-label">æ•°æ®æº</span>
                                <span class="data-value">${resort.data_source || '-'}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="data-section">
                        <h3>ğŸ¿ è®¾æ–½</h3>
                        <div class="data-grid">
                            <div class="data-item">
                                <span class="data-label">å¼€æ”¾ç¼†è½¦</span>
                                <span class="data-value">${resort.lifts_open || 0} / ${resort.lifts_total || 0}</span>
                            </div>
                            <div class="data-item">
                                <span class="data-label">å¼€æ”¾é›ªé“</span>
                                <span class="data-value">${resort.trails_open || 0} / ${resort.trails_total || 0}</span>
                            </div>
                        </div>
                    </div>
                    
                    ${resort.elevation ? `
                        <div class="data-section">
                            <h3>ğŸ”ï¸ æµ·æ‹”é«˜åº¦</h3>
                            <div class="data-grid">
                                <div class="data-item">
                                    <span class="data-label">å±±è„š</span>
                                    <span class="data-value">${resort.elevation.min} m</span>
                                </div>
                                <div class="data-item">
                                    <span class="data-label">å±±é¡¶</span>
                                    <span class="data-value">${resort.elevation.max} m</span>
                                </div>
                                <div class="data-item">
                                    <span class="data-label">å‚ç›´è½å·®</span>
                                    <span class="data-value">${resort.elevation.vertical} m</span>
                                </div>
                            </div>
                        </div>
                    ` : ''}
                    
                    ${weather.freezing_level_current ? `
                        <div class="weather-section">
                            <h3>ğŸŒ¡ï¸ å¤©æ°”è¯¦æƒ…</h3>
                            <div class="data-grid">
                                <div class="data-item">
                                    <span class="data-label">æ¹¿åº¦</span>
                                    <span class="data-value">${weather.current?.humidity || '-'}%</span>
                                </div>
                                <div class="data-item">
                                    <span class="data-label">é£é€Ÿ</span>
                                    <span class="data-value">${weather.current?.windspeed || '-'} km/h</span>
                                </div>
                                <div class="data-item">
                                    <span class="data-label">é£å‘</span>
                                    <span class="data-value">${weather.current?.winddirection_compass || '-'}</span>
                                </div>
                                <div class="data-item">
                                    <span class="data-label">å†°å†»é«˜åº¦</span>
                                    <span class="data-value">${Math.round(weather.freezing_level_current)} m</span>
                                </div>
                                ${weather.today?.sunrise ? `
                                    <div class="data-item">
                                        <span class="data-label">æ—¥å‡º</span>
                                        <span class="data-value">${weather.today.sunrise.split('T')[1]?.substring(0,5) || '-'}</span>
                                    </div>
                                    <div class="data-item">
                                        <span class="data-label">æ—¥è½</span>
                                        <span class="data-value">${weather.today.sunset.split('T')[1]?.substring(0,5) || '-'}</span>
                                    </div>
                                ` : ''}
                            </div>
                            
                            ${weather.hourly_forecast && weather.hourly_forecast.length > 0 ? `
                                <div class="forecast" style="margin-top: 15px;">
                                    <strong style="font-size: 12px;">æœªæ¥24å°æ—¶:</strong>
                                    <div style="max-height: 150px; overflow-y: auto;">
                                        ${weather.hourly_forecast.slice(0, 12).map(hour => {
                                            const time = hour.time ? new Date(hour.time).toLocaleTimeString('zh-CN', {hour: '2-digit', minute: '2-digit'}) : '-';
                                            return `
                                                <div class="forecast-day" style="font-size: 11px; padding: 4px 0;">
                                                    <span style="width: 50px;">${time}</span>
                                                    <span style="width: 60px;">ğŸŒ¡ï¸ ${hour.temperature !== null ? Math.round(hour.temperature) : '-'}Â°C</span>
                                                    <span style="width: 70px;">ğŸ’¨ ${hour.windspeed !== null ? Math.round(hour.windspeed) : '-'} km/h</span>
                                                    <span style="width: 50px;">ğŸ’§ ${hour.humidity !== null ? hour.humidity : '-'}%</span>
                                                </div>
                                            `;
                                        }).join('')}
                                    </div>
                                </div>
                            ` : ''}
                            
                            ${weather.forecast_7d && weather.forecast_7d.length > 0 ? `
                                <div class="forecast" style="margin-top: 10px;">
                                    <strong style="font-size: 12px;">æœªæ¥7å¤©é¢„æŠ¥:</strong>
                                    ${weather.forecast_7d.slice(0, 3).map(day => `
                                        <div class="forecast-day">
                                            <span>${day.date || '-'}</span>
                                            <span>${day.temp_min || '-'}Â°C ~ ${day.temp_max || '-'}Â°C</span>
                                            <span>${day.snowfall > 0 ? 'â„ï¸ ' + day.snowfall + ' cm' : '-'}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            ` : ''}
                        </div>
                    ` : ''}
                </div>
            `;
        }

        // åŠ è½½ Webcam é…ç½®
        async function loadWebcamConfig() {
            try {
                const response = await fetch('webcams_config.json');
                const data = await response.json();
                
                // è½¬æ¢ä¸º slug ç´¢å¼•çš„å¯¹è±¡
                const resorts = data.resorts_webcams || [];
                resorts.forEach(resort => {
                    webcamConfig[resort.slug] = resort;
                });
                
                console.log('âœ… Webcam é…ç½®åŠ è½½å®Œæˆ:', Object.keys(webcamConfig).length, 'ä¸ªé›ªåœº');
                console.log('ğŸ“‹ Webcam slug åˆ—è¡¨:', Object.keys(webcamConfig));
                
                return true;
            } catch (error) {
                console.warn('âš ï¸ Webcam é…ç½®åŠ è½½å¤±è´¥:', error);
                return false;
            }
        }
        
        // æ‰“å¼€ Webcam æ¨¡æ€çª—å£
        function openWebcamModal(slug) {
            const resort = webcamConfig[slug];
            if (!resort) {
                alert('æœªæ‰¾åˆ°è¯¥é›ªåœºçš„ Webcam ä¿¡æ¯');
                return;
            }
            
            const modal = document.getElementById('webcamModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = `ğŸ“¹ ${resort.name} - Webcam`;
            
            let content = '<div class="webcam-links">';
            
            // YouTube é¢‘é“
            if (resort.youtube_channel) {
                content += `
                    <a href="${resort.youtube_channel}" target="_blank" class="webcam-link">
                        <span class="webcam-link-icon">â–¶ï¸</span>
                        <div>
                            <strong>YouTube é¢‘é“</strong>
                            <div style="font-size: 12px; color: #666;">æŸ¥çœ‹é›ªåœºè§†é¢‘å’Œç›´æ’­</div>
                        </div>
                    </a>
                `;
            }
            
            // å®˜ç½‘ Webcam
            if (resort.webcam_page) {
                content += `
                    <a href="${resort.webcam_page}" target="_blank" class="webcam-link">
                        <span class="webcam-link-icon">ğŸŒ</span>
                        <div>
                            <strong>å®˜ç½‘å®æ—¶æ‘„åƒå¤´</strong>
                            <div style="font-size: 12px; color: #666;">æŸ¥çœ‹å¤šè§’åº¦å®æ—¶ç”»é¢</div>
                        </div>
                    </a>
                `;
            }
            
            // OnTheSnow webcam
            const onTheSnowUrl = `https://www.onthesnow.com/${resort.slug}/webcams`;
            content += `
                <a href="${onTheSnowUrl}" target="_blank" class="webcam-link">
                    <span class="webcam-link-icon">ğŸ“·</span>
                    <div>
                        <strong>OnTheSnow Webcam</strong>
                        <div style="font-size: 12px; color: #666;">ç¬¬ä¸‰æ–¹èšåˆæ‘„åƒå¤´</div>
                    </div>
                </a>
            `;
            
            // å®æ—¶æ‘„åƒå¤´åˆ—è¡¨
            if (resort.live_cams && resort.live_cams.length > 0) {
                content += '<div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #eee;">';
                content += '<strong style="font-size: 14px;">ğŸ¥ å®æ—¶æ‘„åƒå¤´:</strong>';
                resort.live_cams.forEach(cam => {
                    content += `
                        <a href="${cam.url}" target="_blank" class="webcam-link" style="margin-top: 8px;">
                            <span class="webcam-link-icon">ğŸ“¹</span>
                            <div>
                                <strong>${cam.name}</strong>
                                <div style="font-size: 12px; color: #666;">${cam.type === 'official' ? 'å®˜æ–¹' : 'ç¬¬ä¸‰æ–¹'}</div>
                            </div>
                        </a>
                    `;
                });
                content += '</div>';
            }
            
            // å¦‚æœæ²¡æœ‰ä»»ä½• webcam
            if (!resort.youtube_channel && !resort.webcam_page && (!resort.live_cams || resort.live_cams.length === 0)) {
                content += `
                    <div style="padding: 20px; text-align: center; color: #666;">
                        <div style="font-size: 32px; margin-bottom: 10px;">ğŸ“¹</div>
                        <div>æš‚æ—  Webcam ä¿¡æ¯</div>
                        ${resort.youtube_search ? `
                            <div style="margin-top: 10px; font-size: 12px;">
                                å»ºè®®æœç´¢: ${resort.youtube_search}
                            </div>
                        ` : ''}
                    </div>
                `;
            }
            
            content += '</div>';
            
            modalBody.innerHTML = content;
            modal.style.display = 'block';
        }
        
        // å…³é—­ Webcam æ¨¡æ€çª—å£
        function closeWebcamModal() {
            const modal = document.getElementById('webcamModal');
            modal.style.display = 'none';
        }
        
        // ç‚¹å‡»æ¨¡æ€çª—å£å¤–éƒ¨å…³é—­
        window.onclick = function(event) {
            const modal = document.getElementById('webcamModal');
            if (event.target === modal) {
                closeWebcamModal();
            }
        }
        
        // ESC é”®å…³é—­æ¨¡æ€çª—å£
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeWebcamModal();
            }
        });
        
        // é¡µé¢åŠ è½½æ—¶è·å–æ•°æ®
        async function init() {
            // å…ˆåŠ è½½ webcam é…ç½®ï¼Œå†åŠ è½½é›ªåœºæ•°æ®
            console.log('ğŸš€ å¼€å§‹åˆå§‹åŒ–...');
            await loadWebcamConfig();
            console.log('ğŸ“Š Webcam é…ç½®å·²åŠ è½½ï¼Œå¼€å§‹åŠ è½½é›ªåœºæ•°æ®...');
            await loadData();
            console.log('âœ… åˆå§‹åŒ–å®Œæˆ');
        }
        
        init();
        
        // æ¯5åˆ†é’Ÿè‡ªåŠ¨åˆ·æ–°
        setInterval(loadData, 5 * 60 * 1000);
    </script>
</body>
</html>

